#!/bin/bash -e

domain='com.mizage.Divvy'

keycode_space=49
left_shift_left_command_modifier=768
defaults write "${domain}" globalHotkey -dict \
  keyCode -integer ${keycode_space} \
  modifiers -integer ${left_shift_left_command_modifier}

shortcuts_data='<62706c69 73743030 d4010203 04050676 77582476 65727369 6f6e5824 6f626a65 63747359 24617263 68697665 72542474 6f701200 0186a0af 10140708 152d2e35 3e3f4748 50515758 60616869 71725524 6e756c6c d2090a0b 145a4e53 2e6f626a 65637473 5624636c 617373a8 0c0d0e0f 10111213 80028005 80078009 800b800d 800f8011 8013dd16 1718191a 0a1b1c1d 1e1f2021 22232425 25272829 222a2b24 2c587369 7a65526f 77735f10 0f73656c 65637469 6f6e456e 64526f77 5f101173 656c6563 74696f6e 53746172 74526f77 5a737562 64697669 64656456 676c6f62 616c5f10 1273656c 65637469 6f6e456e 64436f6c 756d6e57 656e6162 6c65645b 73697a65 436f6c75 6d6e7357 6e616d65 4b65795c 6b657943 6f6d626f 436f6465 5f101473 656c6563 74696f6e 53746172 74436f6c 756d6e5d 6b657943 6f6d626f 466c6167 73100610 05100008 08800410 02098003 107b1200 80000054 4c656674 d22f3031 325a2463 6c617373 6e616d65 5824636c 61737365 73585368 6f727463 7574a233 34585368 6f727463 7574584e 534f626a 656374dd 16171819 1a0a1b1c 1d1e1f20 21222324 25252723 29223a3b 3c3d0808 80040980 06107c10 03120080 00005552 69676874 dd161718 191a0a1b 1c1d1e1f 20212228 24252527 23292244 45244608 08800409 8008107e 12008000 0053546f 70dd1617 18191a0a 1b1c1d1e 1f202122 233c2525 27232922 4d4e244f 08088004 09800a10 7d120080 00005642 6f74746f 6ddd1617 18191a0a 1b1c1d1e 1f202122 23242525 27232922 563c2424 08088004 09800c54 46756c6c dd161718 191a0a1b 1c1d1e1f 20212223 24252527 5c29225e 5f242408 08800410 0109800e 10125a4c 65667420 74686972 64dd1617 18191a0a 1b1c1d1e 1f202122 23242525 273c2922 66672824 08088004 09801010 135c4d69 64646c65 20746869 7264dd16 1718191a 0a1b1c1d 1e1f2021 22232425 25272329 226e6f70 24080880 04098012 10141004 5b526967 68742074 68697264 d22f3073 745e4e53 4d757461 626c6541 72726179 a3737534 574e5341 72726179 5f100f4e 534b6579 65644172 63686976 6572d178 7954726f 6f748001 00080011 001a0023 002d0032 0037004e 00540059 0064006b 00740076 0078007a 007c007e 00800082 00840086 00a100aa 00bc00d0 00db00e2 00f700ff 010b0113 01200137 01450147 0149014b 014c014d 014f0151 01520154 0156015b 01600165 01700179 01820185 018e0197 01b201b3 01b401b6 01b701b9 01bb01bd 01c201c8 01e301e4 01e501e7 01e801ea 01ec01f1 01f50210 02110212 02140215 02170219 021e0225 02400241 02420244 02450247 024c0267 02680269 026b026d 026e0270 0272027d 02980299 029a029c 029d029f 02a102ae 02c902ca 02cb02cd 02ce02d0 02d202d4 02e002e5 02f402f8 03000312 0315031a 00000000 00000201 00000000 0000007a 00000000 00000000 00000000 0000031c>'
defaults write "${domain}" shortcuts "${shortcuts_data}"

defaults write "${domain}" showMenuIcon -boolean false
defaults write "${domain}" useGlobalHotkey -boolean true
defaults write "${domain}" useMonitorCycling -boolean true